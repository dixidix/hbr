!function e(t,r,o){function s(a,i){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!i&&l)return l(a,!0);if(n)return n(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return s(r?r:e)},c,c.exports,e,t,r,o)}return r[a].exports}for(var n="function"==typeof require&&require,a=0;a<o.length;a++)s(o[a]);return s}({1:[function(e,t,r){!function(){"use strict";var t=angular.module("baseapp",["ui.router","ngSanitize","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/myhbr"),e.state("home",{abstract:!0,url:"/myhbr",templateUrl:"./dist/routes/home/home.template.html",data:{title:"MyHBR",requireAuth:!1},controller:"homeCtrl",controllerAs:"home"}).state("home.login",{url:"",templateUrl:"./dist/routes/login/login.template.html",data:{title:"Ingresar",requireAuth:!1},controller:"loginCtrl",controllerAs:"login"}).state("home.register",{url:"/register",templateUrl:"./dist/routes/register/register.template.html",data:{title:"Registrar",requireAuth:!1},controller:"registerCtrl",controllerAs:"register"}).state("dashboard",{url:"/myhbr/dashboard",templateUrl:"./dist/routes/dashboard/dashboard.template.html",data:{title:"Dashboard",requireAuth:!0},controller:"dashboardCtrl",controllerAs:"dashboard"})}]).run(["$rootScope","$state","$stateParams","authenticationService",function(e,t,r,o){e.$state=t,e.$stateParams=r,e.$on("$stateChangeSuccess",function(e,r,s,n,a){r.data.requireAuth&&!o.checkAuth()?t.go("home.login"):t.go("dashboard")})}]);e("./routes/home/home.js")(angular,t),e("./routes/login/login.js")(angular,t),e("./routes/register/register.js")(angular,t),e("./routes/dashboard/dashboard.js")(angular,t),e("./services/authentication/authentication.js")(angular,t),e("./components/navbar/navbar.js")(angular,t)}()},{"./components/navbar/navbar.js":2,"./routes/dashboard/dashboard.js":3,"./routes/home/home.js":4,"./routes/login/login.js":5,"./routes/register/register.js":6,"./services/authentication/authentication.js":7}],2:[function(e,t,r){function o(e,t){"use angular template";function r(e,t){function r(e,t,r){e.$watch(function(){return sessionStorage.sskey},function(t,r){e.isLogged=sessionStorage.getItem("sskey")||!1,e.username=sessionStorage.getItem("username")||""},!0)}function o(){function r(){t.logout().then(function(){e.go("home.login",{reload:!0})},function e(e){console.log(e)})}function o(){s.logout=r}var s=this;o()}return{restrict:"E",replace:!0,templateUrl:"./dist/components/navbar/navbar.template.html",link:r,controllerAs:"navbar",controller:o}}t.directive("navbar",r),r.$inject=["$state","authenticationService"]}t.exports=o},{}],3:[function(e,t,r){function o(e,t){"use strict";"use angular template";function r(e){function t(){o.collapse=!o.collapse}function r(){o.collapse=!1,o.collapse_sidebar=t}var o=this;r()}t.controller("dashboardCtrl",r),r.$inject=["$http"]}t.exports=o},{}],4:[function(e,t,r){function o(e,t){"use strict";"use angular template";function r(e){function t(){}t()}t.controller("homeCtrl",r),r.$inject=["$http"]}t.exports=o},{}],5:[function(e,t,r){function o(e,t){"use strict";"use angular template";function r(e,t,r){function o(){r.login(n.user).then(function(){t.go("dashboard",{reload:!0})},function e(e){console.log(e)})}function s(){n.user={},n.login=o,n.loggedIn=sessionStorage.getItem("isLogged")||!1,n.user.username=JSON.parse(sessionStorage.getItem("username"))}var n=this;s()}t.controller("loginCtrl",r),r.$inject=["$http","$state","authenticationService"]}t.exports=o},{}],6:[function(e,t,r){function o(e,t){"use strict";"use angular template";function r(e,t,r){function o(){console.log(n.user),r.register(n.user).then(function(e){e.data.errors?(e.data.errors.existingEmail?(n.existingEmail=e.data.errors.existingEmail,n.registerForm.email.$invalid=!0,n.registerForm.$invalid=!0):(n.existingEmail=!1,n.registerForm.email.$invalid=!1,n.registerForm.email.$valid=!0),e.data.errors.passwordError?(n.passwordError=e.data.errors.passwordError,n.registerForm.password.$invalid=!0,n.registerForm.password2.$invalid=!0,n.registerForm.$invalid=!0):(n.passwordError=!1,n.registerForm.password.$invalid=!1,n.registerForm.password.$valid=!0,n.registerForm.password2.$invalid=!1,n.registerForm.password2.$valid=!0),e.data.errors.telError?(n.telError=e.data.errors.telError,n.registerForm.tel.$invalid=!0,n.registerForm.cel.$invalid=!0,n.registerForm.$invalid=!0):(n.telError=!1,n.registerForm.tel.$invalid=!1,n.registerForm.tel.$valid=!0,n.registerForm.cel.$invalid=!1,n.registerForm.cel.$valid=!0)):n.success=!0})}function s(){n.user={},n.register=o,n.success=!1;var e={componentRestrictions:{country:"ar"}},t=document.getElementById("address"),r=(new google.maps.places.Autocomplete(t,e),{types:["(cities)"],componentRestrictions:{country:"ar"}}),s=document.getElementById("localidad");new google.maps.places.Autocomplete(s,r)}var n=this;s()}t.controller("registerCtrl",r),r.$inject=["$http","$state","authenticationService"]}t.exports=o},{}],7:[function(e,t,r){function o(e,t){function r(e,t){this.checkAuth=function(){return!!sessionStorage.getItem("sskey")},this.login=function(r){var o=t.defer();return e.get("./dist/php/users.php",{params:{username:r.username,password:r.password,action:"login"}}).success(function(e){console.log(e),sessionStorage.setItem("sskey",e.sskey),sessionStorage.username=e.name+" "+e.lastname,o.resolve()}).error(function(e){o.reject(e)}),o.promise},this.logout=function(){var r=t.defer();return e.post("./dist/php/users.php",{sskey:sessionStorage.getItem("sskey"),method:"POST",action:"logout"}).success(function(e){sessionStorage.clear(),r.resolve()}).error(function(e){r.reject(e)}),r.promise},this.register=function(r){t.defer();return e.post("./dist/php/users.php",{name:r.name,lastname:r.lastname,tel:r.tel,cel:r.cel,codeType:r.codeType.toString(),idCode:r.idCode,email:r.email,address:r.address,localidad:r.localidad,postalCode:r.postalCode,password:r.password,password2:r.password2,method:"POST",action:"register"})}}t.service("authenticationService",r),r.$inject=["$http","$q"]}t.exports=o},{}]},{},[1]);